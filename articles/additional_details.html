<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Additional details • coldcuts</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Additional details">
<meta property="og:description" content="coldcuts">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@gdagstn">
<meta name="twitter:site" content="@gdagstn">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">coldcuts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/coldcuts.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/additional_details.html">Additional details</a>
    </li>
    <li>
      <a href="../articles/segmentations.html">Processed segmentations</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/langleylab/coldcuts/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="additional_details_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Additional details</h1>
                        <h4 data-toc-skip class="author">Giuseppe D’Agostino</h4>
            
            <h4 data-toc-skip class="date">10/26/2021</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/langleylab/coldcuts/blob/HEAD/vignettes/additional_details.Rmd" class="external-link"><code>vignettes/additional_details.Rmd</code></a></small>
      <div class="hidden name"><code>additional_details.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="the-segmentation-class-and-its-components">The <code>segmentation</code> class and its components<a class="anchor" aria-label="anchor" href="#the-segmentation-class-and-its-components"></a>
</h2>
<p>The main workhorse of this package is its own S4 class, <code>segmentation</code>, which hosts many components necessary for plotting and integrating with external datasets.</p>
<p><img width="844" alt="segmentation_class" src="https://raw.githubusercontent.com/langleylab/coldcuts/gh-pages/img/segmentation_class.png"></p>
<p><code>segmentation</code> class objects hold the following slots:</p>
<ul>
<li><p><strong>slices</strong> is a list with 3 nested lists, named <strong>sagittal</strong>, <strong>coronal</strong> and <strong>axial</strong> for the three anatomical planes. Every anatomical plane is a list of slices along the plane spaced by 1 voxel (SL1…SLN in the figure), every slice is a list of structures (ST1…STN in the figure), with every structure being a list of <code>segPointSet</code> objects, another S4 class that holds polygon information in a lightweight format (P1…PN).</p></li>
<li><p><strong>ontology</strong> is a data frame containing all relevant information for structures: their IDs, names, acronyms, hierarchical relationship if present, colour codes etc.</p></li>
<li><p><strong>projections</strong> contains maximum projections for a series of structures in each plane. More than one maximum projection can be hosted in each <code>segmentation</code> object to accommodate for more assays. Every projection can be differentiated by the subset of structures that are being projected, which is usually done to match between an assay (external dataset) and a segmentation.</p></li>
<li><p><strong>assays</strong> is a list of <code>segmentationAssay</code> objects, another S4 class that holds numerical <code>values</code> - such as gene counts - sample metadata (<code>sampledata</code>) and most importantly a one-to-many <code>mapping</code> of structures to the relevant samples.</p></li>
<li><p><strong>metadata</strong> is a list of various types of information regarding the segmentation, such as the file name, orientation, pixel/voxel dimension, original citation, reference space, etc. Most of these are manually compiled by the user, although an attempt is made at extracting some of them from a file containing this information in its header (e.g. NiFTi).</p></li>
<li><p><strong>meshes</strong> is a list of <code>mesh3d</code> objects, one per structure, named after structure acronyms.</p></li>
<li><p><strong>structure_tables</strong> is a list of data.tables, one per anatomical axis, which is used by some internal functions to check which slices contain which structures.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="some-coldcuts-grammar">Some <code>coldcuts</code> grammar<a class="anchor" aria-label="anchor" href="#some-coldcuts-grammar"></a>
</h2>
<p>We have written functions according to a consistent grammar, where the object (e.g. <strong><code>seg</code></strong>) is followed by a verb (e.g. <strong><code>plot</code></strong>) separated by an underscore. Users should mostly be using <code>seg_*</code> functions, which contain higher level executions. This should make the usage easier and more intuitive. Details for each function are in the manual, but we summarize some of them below:</p>
<p>For <code>segmentation</code> class objects we have:</p>
<ul>
<li>
<code><a href="../reference/seg_draw.html">seg_draw()</a></code>: creates the whole <code>segmentation</code> class object from inputs</li>
<li>
<code><a href="../reference/seg_plot.html">seg_plot()</a></code>: plots a set of slices from a <code>segmentation</code> class object</li>
<li>
<code><a href="../reference/seg_feature_plot.html">seg_feature_plot()</a></code>: plots a feature (e.g. a gene expression value) taken from the <code>assay</code> slot and using a given <code>projection</code>
</li>
<li>
<code><a href="../reference/seg_slice_check.html">seg_slice_check()</a></code>: checks which slices in each plane contain given structure IDs</li>
<li>
<code><a href="../reference/seg_get_slice.html">seg_get_slice()</a></code>: renders a specific slice from a as a data frame</li>
<li>
<code><a href="../reference/seg_projection_add.html">seg_projection_add()</a></code> and <code><a href="../reference/seg_projection_remove.html">seg_projection_remove()</a></code>: create or remove a maximum projection within a <code>segmentation</code> class object</li>
<li>
<code><a href="../reference/seg_projection_plot.html">seg_projection_plot()</a></code>: plot a projection using structure label colors, on both sides</li>
<li>
<code><a href="../reference/seg_sub_str.html">seg_sub_str()</a></code>: subset a <code>segmentation</code> class object retaining only specific structure IDs</li>
<li>
<code><a href="../reference/seg_assay_add.html">seg_assay_add()</a></code>: add a <code>segmentationAssay</code> class object to a <code>segmentation</code> class object</li>
<li>
<code><a href="../reference/seg_meshlist_add.html">seg_meshlist_add()</a></code>: add a list of meshes (as <code>mesh3d</code> objects) to a <code>segmentation</code> class object</li>
<li>
<code><a href="../reference/seg_meshlist_render.html">seg_meshlist_render()</a></code>: render structure meshes (subsetting is allowed) in <code>rgl</code>
</li>
</ul>
<p>For more low-level operations on polygons, we have:</p>
<ul>
<li>
<code><a href="../reference/poly_make.html">poly_make()</a></code>: uses 2D marching squares to create a polygon (or group of polygons) from a grid of points</li>
<li>
<code><a href="../reference/poly_set_make.html">poly_set_make()</a></code>: creates a <code>segPointSet</code> given a list of slices separated by structures, running <code><a href="../reference/poly_make.html">poly_make()</a></code> but also calculating holes</li>
<li>
<code><a href="../reference/poly_build.html">poly_build()</a></code>: creates a data frame containing coordinates and other information from a <code>segPointSet</code> object. Useful for plotting single polygons.</li>
<li>
<code><a href="../reference/poly_fill.html">poly_fill()</a></code>: creates a filled data frame containing coordinates for all points enclosed within a polygon</li>
<li>
<code><a href="../reference/poly_smooth.html">poly_smooth()</a></code>: creates smooth polygon contours using kernel smoothing</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Giuseppe D’Agostino, Sarah Langley.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
